<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <head onload="#{chartController.geravalores()}">

        <script type="text/javascript" src="../jquery.js"></script>
        <script type="text/javascript" src="../js/underscore-min.js"></script>

        <script type="text/javascript" > 
            <!--
          
            var chart1; 
            
            jQuery(document).ready(function() {
                var myObject;
                var myObject2;
                $.getJSON('http://localhost:8080/ServletJson',{chamada:"Lista"}, function(json) {
                    
                    myObject = $.parseJSON(JSON.stringify(json));
                             
                    var options = {
                        chart: {
                            renderTo: 'graphDiv',
                            defaultSeriesType: 'bar'
                        },
                        title: {
                            text: 'Consumo de Frutas'
                        },
                        xAxis: {
                            categories: ["Tiago", "Diego","JÃ©ssica"]
                        },
                        yAxis: {
                            title: {
                                text: 'Frutas consumidas'
                            }
                        },
                        series: [],
                        plotOptions: {
                            series: { 
                                groupPadding: 0.3
                            }
                        }
                       
                    }   
                    
                    for(var i=0; i< json.length;i++){  
                        options.series.push({ 
                            "name": json[i].fruta,
                            "data": [json[i].qtd]
                
                        })}
                
                    grafico = new Highcharts.Chart(options);  
             
                });  
            });
            
            //--> 
        </script> 
    </head>


    <h:body id="body" >

        <form id="form">  
            <script type="text/javascript" src="../js/highcharts.js"></script>
            <script type="text/javascript" src="../js/modules/exporting.js"></script>

            <table>
                <tr>
                    <td>
                        <div id="graphDiv" style="size: 50%; width: 50%; height: 50% "></div> 

                    </td>
                    <td>ahuhsuha</td>
                </tr>

            </table>
            <div>ajauahuh</div>

        </form>

    </h:body>
</html>
